{% if filters is defined and filters is not empty %}
    <div class="form-group">
        {% for filterName, filter in filters %}
        {% set attr = getFilterAttributes(
            filterName|trans,
            filter,
            target is defined and target is not empty ? target : '.page-list',
            tmpl is defined and tmpl is not empty ? tmpl : 'list'
        ) %}

        <select {{ attr|join(' ') }}>
        {% if filter.groups is defined %}
            {% for groupLabel, groupFilter in filter.groups %}
                <optgroup label="{{ groupLabel|trans }}"{% if groupFilter.prefix is defined %} data-prefix="{{ groupFilter.prefix }}"{% endif %}>
                    {% for value, label in groupFilter.options if groupFilter.options is defined %}
                        {% if label is iterable %}
                            {% set value = label.value is defined and label.value is not empty ? label.value : label.id %}
                            {% set label = label.label is defined and label.label is not empty ? label.label : (label.title is defined and label.title is not empty ? label.title : label.name) %}
                        {% endif %}

                        {% set selected = (groupFilter.values is defined and value in groupFilter.values) ? ' selected' : '' %}

                        {% if groupFilter.prefix is defined %}
                            {% set value = groupFilter.prefix ~ ':' ~ value %}
                        {% endif %}
                    <option value="{{ value|escape('html_attr') }}"{{ selected }}>{{ label }}</option>
                    {% endfor %}
                </optgroup>
            {% endfor %}
        {% elseif filter.options is defined %}
            {% for value, label in filter.options %}
                {% if label is iterable %}
                    {% set value = label.value is defined and label.value is not empty ? label.value : label.id %}
                    {% set label = label.label is defined and label.label is not empty ? label.label : (label.title is defined and label.title is not empty ? label.title : label.name) %}
                {% endif %}

                {% set selected = (filter.values is defined and value in filter.values) ? ' selected' : '' %}
                ?>
                <option value="{{ value|escape('html_attr') }}"{{ selected }}>
                    {{ (filter.translateLabels is not defined or filter.translateLabels is empty) ? label : label|trans }}
                </option>
            {% endfor %}
        {% endif %}
        </select>
        {% endfor %}
    </div>
{% endif %}
